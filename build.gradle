/*
 * This file was generated by the Gradle 'init' task.
 */

allprojects {
    group = 'com.revenat'
    version = '0.0.1'

    ext {
        log4jVersion = '2.11.2'
        commonsLang3Version = '3.9'
        junitVersion = '5.5.1'
        hamcrestVersion = '2.1'
        mockitoVersion = '3.0.0'
        jerseyVersion = '2.29.1'
        jaxbVersion = '2.3.2'
        jerseyJunitVersion = '2.1.0'
        hibernateVersion = '5.2.18.Final'

        misc = [
                commonsLang3: "org.apache.commons:commons-lang3:$commonsLang3Version"
        ]

        server = [
                jerseyHttp   : "org.glassfish.jersey.containers:jersey-container-grizzly2-http:$jerseyVersion",
                jerseyServlet: "org.glassfish.jersey.containers:jersey-container-servlet:$jerseyVersion",
                jerseyHk2    : "org.glassfish.jersey.inject:jersey-hk2:$jerseyVersion",
                jerseyJson   : "org.glassfish.jersey.media:jersey-media-json-jackson:$jerseyVersion",
                jaxbRuntime  : "org.glassfish.jaxb:jaxb-runtime:$jaxbVersion"
        ]

        persistence = [
                hibernateCore: "org.hibernate:hibernate-core:$hibernateVersion"
        ]

        log = [
                log4jApi  : "org.apache.logging.log4j:log4j-api:$log4jVersion",
                log4jCore : "org.apache.logging.log4j:log4j-core:$log4jVersion",
                log4jSlf4j: "org.apache.logging.log4j:log4j-slf4j-impl:$log4jVersion",
                log4jWeb  : "org.apache.logging.log4j:log4j-web:$log4jVersion",
        ]

        tests = [
                junitApi          : "org.junit.jupiter:junit-jupiter-api:$junitVersion",
                junitEngine       : "org.junit.jupiter:junit-jupiter-engine:$junitVersion",
                junitParams       : "org.junit.jupiter:junit-jupiter-params:$junitVersion",
                hamcrest          : "org.hamcrest:hamcrest:$hamcrestVersion",
                mockito           : "org.mockito:mockito-junit-jupiter:$mockitoVersion",
                jerseyTestCore    : "org.glassfish.jersey.test-framework:jersey-test-framework-core:$jerseyVersion",
                jerseyTestProvider: "org.glassfish.jersey.test-framework.providers:jersey-test-framework-provider-grizzly2:$jerseyVersion",
                jerseyJunit       : "com.github.hanleyt:jersey-junit:$jerseyJunitVersion"
        ]
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'maven-publish'

    repositories {
        mavenLocal()
        maven {
            url = 'https://repo.maven.apache.org/maven2'
        }
        maven {
            url = "https://plugins.gradle.org/m2/"
        }
    }

    dependencies {
        implementation log.log4jApi, log.log4jCore, log.log4jSlf4j
    }

    sourceCompatibility = '1.11'

    publishing {
        publications {
            maven(MavenPublication) {
                from(components.java)
            }
        }
    }

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }
}
