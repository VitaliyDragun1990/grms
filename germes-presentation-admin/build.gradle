/*
 * This file was generated by the Gradle 'init' task.
 */plugins {
    id 'war'
    id "org.gretty" version "3.0.1"
}

dependencies {
    implementation project(":germes-application-service"), project(":germes-application-model")
    implementation ui.primefaces, ui.jsf, misc.jakartaInject, server.weldServlet
    providedCompile server.servletApi
    runtimeOnly persistence.mysql, misc.jaxbRuntime
    compileOnly persistence.jpaApi

    testImplementation tests.junitApi, tests.junitVintage, tests.hamcrest, tests.mockito, server.weldSe, tests.cdiUnit
    testCompileOnly tests.junitParams, persistence.jpaApi
    testRuntimeOnly tests.junitEngine, persistence.h2
}


// use appRunWar/appStartWar, appRun/appStart doesn't work well with Weld container
gretty {
    servletContainer = 'jetty9.4'
    contextPath = '/'
    httpPort = 9091
}

processResources {
    doFirst {
        ant.native2ascii(
                src   : project.file('src/main/resources/txt'),
                dest  : project.file('src/main/resources/ui'),
                ext : '.properties'
        )
    }
    exclude('txt')
}